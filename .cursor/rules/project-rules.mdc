---
description: 
globs: 
alwaysApply: true
---
[[rules]]
name = "Shopify App Purpose"
description = "This is a behavior-aware recommendation app for Shopify using Web Pixel. It scores user intent and infers personality types to personalize product suggestions."

[[rules]]
name = "Web Pixel Event Tracking"
description = "We collect Web Pixel events like product views, add-to-cart, scroll depth, referrer, and time on page. These are used to calculate an intent score per session."

[[rules]]
name = "Intent Score Calculation"
description = """
Intent score is a numeric value based on weighted user actions. Key weights:
- Product view = 5
- Add to cart = 15
- Time on product page = 1 per 10s
- Repeat view = +2
- Scroll to bottom = +5
- Return visit = +10
- Bounce = -10
This is normalized to a range (0â€“100) and stored per user or session.
"""

[[rules]]
name = "Personality Profiling"
description = """
Based on behavior patterns, users are profiled into:
- Explorer: Many views, no cart, short time
- Focused Buyer: Repeats + cart + long time
- Bargain Hunter: Interacts with discounts
- Trend Seeker: Comes from social/referral, views trending
- Loyal Returner: Returns after days, deep interest
These types influence tone and recommendation logic.
"""

[[rules]]
name = "Frontend UI (Polaris)"
description = "The app frontend uses Polaris components. UI adapts based on personality type and intent score to show personalized product nudges and callouts."

[[rules]]
name = "Tech Stack"
description = "We use Prisma for the database, Node.js/TypeScript backend, Polaris for frontend, and Shopify Web Pixel for tracking behavior. The app is deployed via Docker or local tunnel during development."

[[rules]]
name = "Documentation"
description = "Use Shopify documentation while creating code, https://shopify.dev/docs/apps/build "
